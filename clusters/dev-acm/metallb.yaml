applications:
  metallb-operator:
    annotations:
      argocd.argoproj.io/sync-wave: "5"
    destination:
      namespace: metallb-system
    source:
      path: components/metallb-operator
  metallb-config:
    annotations:
      argocd.argoproj.io/sync-wave: "15"
    destination:
      namespace: metallb-system
    source:
      path: components/metallb-config
  metallb-l2-config:
    annotations:
      argocd.argoproj.io/sync-wave: "25"
    destination:
      namespace: metallb-system
    source:
      path: components/metallb-l2-config
      plugin:
        name: argocd-lovely-plugin
        env:
          - name: LOVELY_KUSTOMIZE_MERGE
            value: |-
              apiVersion: metallb.io/v1beta1
              kind: IPAddressPool
              metadata:
                name: pool-1
              spec:
                addresses:
                  - 10.30.30.190-10.30.30.194
